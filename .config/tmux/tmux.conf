# Tmux Configuration File - tmux.conf
set -g default-terminal "tmux-256color"
set -ga terminal-overrides ",xterm-256color:Tc"

### CONFIGURAÇÕES INICIAIS ###

# Carrega o arquivo de atalhos separado
source-file ~/.config/tmux/tmux.reset.conf
#set-option -g default-terminal 'screen-256color'          # Define terminal com suporte a 256 cores
#set-option -g terminal-overrides ',xterm-256color:RGB'    # Suporte a cores RGB
#setw -g window-status-format " #I: #(basename #{pane_current_path}) [#{pane_current_command}] "
#setw -g window-status-current-format " #I: #(basename #{pane_current_path}) [#{pane_current_command}] "

### PLUGINS DO TMUX ###

# Lista de plugins gerenciados pelo TPM
set -g @plugin 'tmux-plugins/tmux-yank'          # Copia texto para a área de transferência
set -g @plugin 'fcsonline/tmux-thumbs'           # Navegação rápida com "thumbs"
set -g @plugin 'sainnhe/tmux-fzf'               # Integração com fzf para busca fuzzy
set -g @plugin 'wfxr/tmux-fzf-url'              # Abre URLs com fzf
#set -g @plugin 'omerxx/tmux-floax'              # Gerenciamento avançado de janelas/painéis
set -g @plugin 'tmux-plugins/tmux-prefix-highlight' # Destaca o prefixo na barra de status
set -g @plugin 'tmux-plugins/tmux-pain-control'  # Atalhos adicionais para painéis
set -g @plugin 'christoomey/vim-tmux-navigator'  # Navegação entre tmux e Neovim
set -g @plugin 'nhdaly/tmux-better-mouse-mode'   # Melhora o suporte ao mouse
#set -g @plugin 'tmux-plugins/tmux-sensible'      # Configurações padrão sensíveis
#set -g @plugin 'tmux-plugins/tmux-sessionist'
#set -g @plugin 'tmux-plugins/tmux-ssh'
set -g @plugin 'tmux-plugins/tmux-open'          # Facilita abertura de arquivos/URLs
#set -g @plugin 'tmux-plugins/tmux-resurrect'     # Restaura sessões após reiniciar
#set -g @plugin 'tmux-plugins/tmux-continuum'     # Salva sessões automaticamente
set -g @plugin 'robhurring/tmux-mem-cpu-load'    # Monitora CPU e RAM na barra de status
#set -g @plugin 'tmux-plugins/tmux-ssh-agent'
#set -g @plugin 'noscript/tmux-mighty-scroll'
#set -g @ssh-agent-forward 'on'  # Forward automático do SSH_AUTH_SOCK

### CONFIGURAÇÃO DE CORES E TEMA ###

# Script para seleção de esquema de cores
#colorscheme_selector="~/github/dotfiles-latest/colorscheme/colorscheme-selector.sh"
#run-shell "~/github/dotfiles-latest/tmux/tools/linkarzu/set_tmux_colors.sh"

# Tema Dracula
set -g @plugin 'dracula/tmux'

set -g @ssh-show-color 'red'             # Cor para sessões SSH
set -g @fzf-default-command 'fd --type f' # Usa 'fd' no lugar do 'find'

setw -g window-status-format " #I: #[fg=#89dceb]#{pane_current_command} #[fg=#cdd6f4]#{pane_current_path}"
setw -g window-status-current-format " #I: #[bold]#[fg=#a6e3a1] #{pane_current_command} #[fg=#f9e2af]#{pane_current_path}"

# Configurações gerais do tema Dracula
set -g @dracula-show-flags true                  # Mostra bandeiras na barra
set -g @dracula-refresh-rate 1                 # Taxa de atualização instantânea
set -g @dracula-transparent-powerline-bg true    # Fundo transparente na powerline
set -g @dracula-show-powerline true              # Ativa powerline
set -g @dracula-border-contrast true             # Contraste nas bordas
set -g @dracula-left-icon-padding 1              # Espaçamento no ícone à esquerda

# Widgets na barra de status (lado direito)
set -g @dracula-plugins "cpu-usage ram-usage gpu-usage"

# Configurações específicas dos widgets
set -g @dracula-cpu-usage-label ""          # Rótulo para uso de CPU
set -g @dracula-ram-usage-label ""          # Rótulo para uso de RAM
set -g @dracula-gpu-usage-label "󰢮GPU"          # Rótulo para uso de GPU
#set -g @dracula-gpu-vram-label " VRAM"          # Rótulo para VRAM da GPU
set -g @dracula-force-gpu "NVIDIA"               # Força uso de GPU NVIDIA
set -g @dracula-gpu-vram-used-accuracy ".2f"     # Precisão de VRAM usada
set -g @dracula-gpu-vram-total-accuracy ".1f"    # Precisão de VRAM total
set -g @dracula-time-format "%D %R:%S"           # Formato de data e hora
set -g @dracula-show-battery-status true         # Mostra status da bateria
set -g @dracula-battery-label false              # Desativa rótulo da bateria
set -g @dracula-cwd-max-dirs "0"
set -g @dracula-cwd-max-chars "0"
# Cores dos widgets
set -g @dracula-gpu-usage-colors "pink dark_gray"      # Cores para uso de GPU
set -g @dracula-gpu-ram-usage-colors "green dark_gray" # Cores para VRAM

# Outras configurações do tema
set -g @dracula-show-location true               # Mostra localização
set -g @dracula-cwd-max-dirs "0"                 # Sem limite de diretórios no caminho
set -g @dracula-cwd-max-chars "0"                # Sem limite de caracteres no caminho

# Paleta de cores personalizada (baseada em Catppuccin)
set -g @dracula-colors "
pink='#cba6f7'
orange='#fab387'
yellow='#f9e2af'
green='#a6e3a1'
cyan='#89dceb'
light_purple='#b4befe'
white='#cdd6f4'
dark_gray='#313244'
red='#f38ba8'
gray='#45475a'
dark_purple='#6c7086'
"

# Integração com área de transferência
set -g @clipboard 'xclip'                      # Usa wl-copy para clipboard

# Configurações de salvamento e restauração de sessões
set -g @continuum-restore 'on'                   # Restaura sessões automaticamente
set -g @continuum-save-interval '5'              # Salva a cada 5 minutos
set -g @resurrect-dir '~/.config/tmux/resurrect' # Diretório para salvar sessões
set -g @resurrect-capture-pane-contents 'on'     # Captura conteúdo dos painéis
set -g @resurrect-processes '"nvim" "htop" "node" "python"'
# Configurações do prefixo destacado
set -g @prefix_highlight_fg 'yellow'             # Cor do texto do prefixo
set -g @prefix_highlight_bg 'red'                # Cor de fundo do prefixo
set -g @prefix_highlight_prefix_prompt 'PREFIX:' # Texto do prefixo

### INICIALIZAÇÃO DO TPM ###

# Executa o gerenciador de plugins
run '~/.config/tmux/plugins/tpm'
#set-option -g automatic-rename-format '#{b:pane_current_path}'
#set -g window-status-format '#(basename #{pane_current_path}) [#{pane_current_command}]'


